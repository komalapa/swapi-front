(this["webpackJsonpsw-tables"]=this["webpackJsonpsw-tables"]||[]).push([[0],{148:function(t,e,n){},149:function(t,e,n){},150:function(t,e,n){},152:function(t,e,n){},156:function(t,e,n){},157:function(t,e,n){},230:function(t,e,n){},234:function(t,e,n){},235:function(t,e,n){},237:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(25),r=n.n(s),c=(n(148),n(149),n(73)),l=n(24),o=n(19),u=n(26),h=n(27),d=n(39),j=n(30),b=n(29),f=n(40),O=n(240),p=n(120),m=n(130),g=n.n(m),v="https://swapi.dev/api/";function x(t){return t||(t=v),t=t.replace("http://","https://"),console.log("after",t),new Promise((function(e,n){fetch(t,{cache:"force-cache"}).then((function(t){if(t.ok)return t.json();throw Error(t.statusText)})).then((function(t){e(t)})).catch((function(t){return n(t)}))}))}function k(t){var e=function(){var t={next:"",data:[]};return function(e){return x(e).then((function(e){return t.data=[].concat(Object(p.a)(t.data),Object(p.a)(e.results)),t.next=e.next,t}))}}();t||(t=v+"people"),t=t.split("?")[0];var n,a;return n=function(t){return t.next},a=e,function t(e){return n(e)?a(n(e)).then(t):Promise.resolve(e)}({next:t,data:[]})}n(150);var y=n.p+"static/media/death_star.1ac1a142.svg",P=n(7),w=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(P.jsx)("img",{src:y,alt:"",className:"loading"})}}]),n}(i.a.Component),S=(n(152),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={data:null,isModalVisible:!1},a.handleIsShowModal=a.handleIsShowModal.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(t){var e=x(t),n=[];return e.then((function(t){for(var e=t.results?t.results:[t],a=function(t){var a=function(a){if("url"!==a&&"string"===typeof e[t][a]&&/^http*/.test(e[t][a])){var i=x(e[t][a]).then((function(n){return e[t][a]=n.name?n.name:n.title?n.title:e[t][a],e}));n.push(i)}else if(Array.isArray(e[t][a]))for(var s=function(i){if("string"===typeof e[t][a][i]&&/^http*/.test(e[t][a][i])){var s=x(e[t][a][i]).then((function(n){return e[t][a][i]=n.name?n.name:n.title?n.title:e[t][a][i],e}));n.push(s)}},r=0;r<e[t][a].length;r++)s(r);"created"!==a&&"edited"!==a||(e[t][a]=g()(e[t][a]).format("ddd-DD/MM/YYYY"))};for(var i in e[t])a(i)},i=0;i<e.length;i++)a(i);return Promise.allSettled(n).then((function(e){return t}))}))})(this.props.link).then((function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{data:Object(o.a)({},e)})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"handleIsShowModal",value:function(){this.setState((function(t){return{isModalVisible:!t.isModalVisible}}))}},{key:"render",value:function(){var t={};if(this.state.data)for(var e in this.state.data)Array.isArray(this.state.data[e])?t[e]=this.state.data[e].join(", "):t[e]=this.state.data[e];return this.state.isModalVisible?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(f.a,{onClick:this.handleIsShowModal,children:["Show  ",this.state.isModalVisible?"less...":"more..."]}),!this.state.data&&Object(P.jsx)(w,{}),this.state.data&&Object(P.jsx)(O.a,{title:this.state.data.name||this.state.data.title,visible:!0,onCancel:this.handleIsShowModal,footer:[Object(P.jsx)(f.a,{onClick:this.handleIsShowModal,children:" Close "},"back")],children:Object(P.jsx)("ul",{className:"info-modal-ul",children:Object.keys(t).map((function(e,n){return t[e]?Object(P.jsxs)("li",{children:[" ",Object(P.jsx)("b",{children:e}),": ",t[e]]},n):null}))})})]}):Object(P.jsxs)(f.a,{onClick:this.handleIsShowModal,children:["Show  ",this.state.isModalVisible?"less...":"more..."]})}}]),n}(i.a.Component)),M=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:this.props.item.name||this.props.item.title}),this.props.item.gender&&"male"===this.props.item.gender?Object(P.jsx)("td",{className:"gender-icon",children:"\u2642"}):"female"===this.props.item.gender?Object(P.jsx)("td",{className:"gender-icon",children:"\u2640"}):Object(P.jsx)("td",{}),Object(P.jsx)("td",{children:Object(P.jsx)(S,{link:this.props.item.url})})]})}}]),n}(i.a.Component),D=(n(156),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).handleLoadPage=function(e,n){return function(){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{curPage:n+1})})),t.props.loadAnyPage(e)}},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this,e=0;this.props.prevPage&&(e=+this.props.prevPage.split("?page=")[1]),this.props.link.includes("?page")&&console.log("PROBLEM");for(var n=[this.props.link],a=11;a<this.props.numberOfItems;a+=10)n.push(this.props.link+"?page="+(Math.floor(a/10)+1));return Object(P.jsxs)("div",{className:"table-pagination",children:[Object(P.jsx)(f.a,{className:"table-pagination-button",onClick:this.handleLoadPage(this.props.prevPage),disabled:!this.props.prevPage,children:"prev"}),n.map((function(n,a){return Object(P.jsx)(f.a,{className:"table-pagination-button",onClick:t.handleLoadPage(n,a),disabled:a===e,children:a+1},a)})),Object(P.jsx)(f.a,{className:"table-pagination-button",onClick:this.handleLoadPage(this.props.nextPage),disabled:!this.props.nextPage,children:"next"})]})}}]),n}(i.a.Component)),C=n(82),N=n(239),I=(n(157),C.a.Option),L=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={filterData:null,list:null,filtredList:null,showModal:!1,filterValue:null},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleShowMore=a.handleShowMore.bind(Object(d.a)(a)),a.handleHideTable=a.handleHideTable.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;x(this.props.filterLink).then((function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{filterData:e.results})}))})).catch((function(){return console.log("something wrong with request")})),k(this.props.link).then((function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{list:e.data})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handleChange",value:function(t){t?this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{filtredList:e.list.filter((function(e){return-1!==e.films.indexOf(t)})),filterValue:t})})):this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{filtredList:null,filterValue:null})}))}},{key:"handleShowMore",value:function(){this.setState((function(t){return{showModal:!t.showModal}}))}},{key:"handleHideTable",value:function(){this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{filtredList:null,filterValue:null})}))}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"render",value:function(){var t=this,e=[{title:"\u2116",dataIndex:"number",key:"number"},{title:"Name",dataIndex:"title",key:"title"},{title:"Action",key:"action",dataIndex:"action",render:function(e){return Object(P.jsx)(S,{handleShowMore:t.handleShowMore,link:e})}}],n=[];return this.state.filtredList&&this.state.filtredList.map((function(t,e){return n.push({key:e,number:e+1,title:t.name||t.title,action:t.url}),t})),Object(P.jsxs)("div",{className:"filter-wrp",children:[this.state.filterData&&Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(C.a,{className:"filter",id:"film-select",defaultValue:null,value:this.state.filterValue,onChange:this.handleChange,disabled:!this.state.list,children:[Object(P.jsx)(I,{className:"filter-item",value:null,children:"--Films--"}),this.state.filterData.map((function(t,e){return Object(P.jsx)(I,{className:"filter-item",value:t.url,children:t.title||t.name},e)}))]})}),this.state.filtredList&&Object(P.jsx)(O.a,{title:this.state.filterData.find((function(e){return e.url===t.state.filterValue})).title,visible:!0,onCancel:this.handleHideTable,footer:[Object(P.jsx)(f.a,{onClick:this.handleHideTable,children:" Close "},"back")],children:Object(P.jsx)(N.a,{className:"filtred-table",columns:e,dataSource:n,showHeader:!1})})]})}}]),n}(i.a.Component),A=(n(230),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;Object(u.a)(this,n),a=e.call(this,t);var i=t.location.pathname.split("/"),s=v+i[i.length-1];return a.state={loadedData:null,nextPage:null,prevPage:null,count:0,title:i[i.length-1],link:s},a.handleNextPage=a.handleNextPage.bind(Object(d.a)(a)),a.handlePrevPage=a.handlePrevPage.bind(Object(d.a)(a)),a.handleAnyPage=a.handleAnyPage.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;x(this.state.link).then((function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{loadedData:e.results,nextPage:e.next,prevPage:e.previous,count:e.count})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handleAnyPage",value:function(t){var e=this;this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{loadedData:null})})),x(t).then((function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{loadedData:t.results,nextPage:t.next,prevPage:t.previous})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handleNextPage",value:function(){var t=this;this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{loadedData:null})})),x(this.state.nextPage).then((function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{loadedData:e.results,nextPage:e.next,prevPage:e.previous})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handlePrevPage",value:function(){var t=this;this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{loadedData:null})})),x(this.state.prevPage).then((function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{loadedData:e.results,nextPage:e.next,prevPage:e.previous})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"render",value:function(){return Object(P.jsxs)(P.Fragment,{children:[!this.state.loadedData&&Object(P.jsx)(w,{}),Object(P.jsx)("h1",{children:this.state.title}),Object(P.jsxs)("div",{className:"header-controls-wrp",children:[Object(P.jsx)(c.b,{to:"/main",className:"back-to-main starwars-font",children:"Back to the main list"}),"films"!==this.state.title&&Object(P.jsx)(L,{filterLink:v+"films",link:this.state.link})]}),Object(P.jsx)("table",{className:"info-table",children:Object(P.jsx)("tbody",{children:this.state.loadedData&&this.state.loadedData.map((function(t,e){return Object(P.jsx)(M,{item:t},e)}))})}),this.state.loadedData&&Object(P.jsx)("div",{className:"page-controls",children:this.state.count>10&&Object(P.jsx)(D,{link:this.state.link,numberOfItems:this.state.count,loadAnyPage:this.handleAnyPage,nextPage:this.state.nextPage,prevPage:this.state.prevPage})})]})}}]),n}(i.a.Component)),V=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={loadedData:null},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;x().then((function(e){t.setState({loadedData:e})})).catch((function(){return console.log("something wrong with request")}))}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"render",value:function(){var t=[{title:"\u2116",dataIndex:"number",key:"number"},{title:"Title",dataIndex:"title",key:"title"},{title:"Link",dataIndex:"link",key:"link"},{title:"Action",key:"action",dataIndex:"action",render:function(t){return Object(P.jsx)(c.b,{to:"/infotables/"+t,children:"Open page"})}}],e=[];for(var n in this.state.loadedData)e.push({key:e.length,number:e.length+1,title:n,link:this.state.loadedData[n],action:n});return Object(P.jsxs)(P.Fragment,{children:[!this.state.loadedData&&Object(P.jsx)(w,{}),Object(P.jsx)("h1",{children:this.props.title}),Object(P.jsx)(N.a,{columns:t,dataSource:e,pagination:!1})]})}}]),n}(i.a.Component),F=(n(234),n.p+"static/media/r2d2.4002b4bf.svg"),T=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"not-found",children:[Object(P.jsx)("h1",{className:"not-found-header",children:"This is not the page you're looking for"}),Object(P.jsx)("img",{src:F,alt:"",className:"r2d2"})]})})}}]),n}(i.a.Component),q=(n(235),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("footer",{className:"footer",children:Object(P.jsxs)("p",{children:["One more interface for ",Object(P.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://swapi.dev/",children:"SWAPI"})]})})})}}]),n}(i.a.Component));var H=function(){return Object(P.jsxs)("div",{className:"main-wrp",children:[Object(P.jsx)("main",{className:"main",children:Object(P.jsx)(c.a,{children:Object(P.jsxs)(l.d,{children:[Object(P.jsx)(l.b,{path:"/",exact:!0,children:Object(P.jsx)(l.a,{to:"/main"})}),Object(P.jsx)(l.b,{path:"/main",children:Object(P.jsx)(V,{title:"Main List"})}),Object(P.jsx)(l.b,{path:"/infotables/:theme",exact:!0,component:A}),Object(P.jsx)(l.b,{path:"/",component:T})]})})}),Object(P.jsx)(q,{})]})},W=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),s(t),r(t)}))};n(236);r.a.render(Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(H,{})}),document.getElementById("root")),W()}},[[237,1,2]]]);
//# sourceMappingURL=main.abdf820d.chunk.js.map