(this["webpackJsonpsw-tables"]=this["webpackJsonpsw-tables"]||[]).push([[0],{135:function(t,e,n){},136:function(t,e,n){},137:function(t,e,n){},139:function(t,e,n){},142:function(t,e,n){},143:function(t,e,n){},219:function(t,e,n){},220:function(t,e,n){},222:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(33),r=n.n(i),c=(n(135),n(136),n(62)),o=n(23),l=n(22),h=n(27),u=n(28),d=n(51),j=n(30),b=n(29),p=n(225),f=n(102),O=n.n(f),g="https://swapi.dev/api/";function m(t){return t||(t=g),new Promise((function(e,n){fetch(t).then((function(t){if(t.ok)return t.json();n(t)})).then((function(t){e(t)}))}))}n(137);var v=n.p+"static/media/death_star.1ac1a142.svg",x=n(6),P=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(x.jsx)("img",{src:v,alt:"",className:"loading"})}}]),n}(s.a.Component),k=(n(139),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={data:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(t){var e=m(t),n=[];return e.then((function(t){for(var e=t.results?t.results:[t],a=function(t){var a=function(a){if("url"!==a&&"string"===typeof e[t][a]&&/^http*/.test(e[t][a])){console.log("dig url",e[t][a]);var s=m(e[t][a]).then((function(n){return e[t][a]=n.name?n.name:n.title?n.title:e[t][a],e}));n.push(s)}else if(Array.isArray(e[t][a]))for(var i=function(s){if("string"===typeof e[t][a][s]&&/^http*/.test(e[t][a][s])){var i=m(e[t][a][s]).then((function(n){return e[t][a][s]=n.name?n.name:n.title?n.title:e[t][a][s],e}));n.push(i)}},r=0;r<e[t][a].length;r++)i(r);"created"!==a&&"edited"!==a||(e[t][a]=O()(e[t][a]).format("ddd-DD/MM/YYYY"))};for(var s in e[t])a(s)},s=0;s<e.length;s++)a(s);return Promise.allSettled(n).then((function(e){return t}))}))})(this.props.link).then((function(e){t.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{data:Object(l.a)({},e)})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"render",value:function(){console.log("state",this.state.data);var t={};if(this.state.data)for(var e in this.state.data)console.log(typeof this.state.data[e]),Array.isArray(this.state.data[e])?(console.log("array"),t[e]=this.state.data[e].join(", ")):t[e]=this.state.data[e];return Object(x.jsxs)(x.Fragment,{children:[!this.state.data&&Object(x.jsx)(P,{}),this.state.data&&Object(x.jsxs)(p.a,{title:this.state.data.name||this.props.state.title,children:[Object(x.jsx)("ul",{className:"info-modal-ul",children:Object.keys(t).map((function(e,n){return Object(x.jsxs)("li",{children:[" ",Object(x.jsx)("b",{children:e}),": ",t[e]]},n)}))}),Object(x.jsx)("button",{className:"info-modal-close",onClick:this.props.handleShowMore,children:"\u2717close"})]})]})}}]),n}(s.a.Component)),y=n(55),w=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={showModal:!1},a.handleShowMore=a.handleShowMore.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleShowMore",value:function(){this.setState((function(t){return{showModal:!t.showModal}}))}},{key:"render",value:function(){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:this.props.item.name||this.props.item.title}),this.props.item.gender&&"male"===this.props.item.gender?Object(x.jsx)("td",{className:"gender-icon",children:"\u2642"}):"female"===this.props.item.gender?Object(x.jsx)("td",{className:"gender-icon",children:"\u2640"}):Object(x.jsx)("td",{}),Object(x.jsxs)("td",{children:[this.state.showModal&&Object(x.jsx)(k,{handleShowMore:this.handleShowMore,data:this.props.item,link:this.props.item.url}),Object(x.jsxs)(y.a,{onClick:this.handleShowMore,children:["Show  ",this.state.showModal?"less...":"more..."]})]})]})}}]),n}(s.a.Component),S=(n(142),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).handleLoadPage=function(e,n){return function(){t.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{curPage:n+1})})),t.props.loadAnyPage(e)}},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=0;this.props.prevPage&&(e=+this.props.prevPage.split("?page=")[1]),this.props.link.includes("?page")&&console.log("PROBLEM");for(var n=[this.props.link],a=11;a<this.props.numberOfItems;a+=10)n.push(this.props.link+"?page="+(Math.floor(a/10)+1));return Object(x.jsxs)("div",{className:"table-pagination",children:[Object(x.jsx)(y.a,{className:"table-pagination-button",onClick:this.handleLoadPage(this.props.prevPage),disabled:!this.props.prevPage,children:"prev"}),n.map((function(n,a){return Object(x.jsx)(y.a,{className:"table-pagination-button",onClick:t.handleLoadPage(n,a),disabled:a===e,children:a+1},a)})),Object(x.jsx)(y.a,{className:"table-pagination-button",onClick:this.handleLoadPage(this.props.nextPage),disabled:!this.props.nextPage,children:"next"})]})}}]),n}(s.a.Component)),D=(n(143),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;Object(h.a)(this,n),a=e.call(this,t);var s=t.location.pathname.split("/"),i=g+s[s.length-1];return a.state={loadedData:null,nextPage:null,prevPage:null,count:0,title:s[s.length-1],link:i},a.handleNextPage=a.handleNextPage.bind(Object(d.a)(a)),a.handlePrevPage=a.handlePrevPage.bind(Object(d.a)(a)),a.handleAnyPage=a.handleAnyPage.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;m(this.state.link).then((function(e){t.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loadedData:e.results,nextPage:e.next,prevPage:e.previous,count:e.count})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handleAnyPage",value:function(t){var e=this;this.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loadedData:null})})),m(t).then((function(t){e.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{loadedData:t.results,nextPage:t.next,prevPage:t.previous})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handleNextPage",value:function(){var t=this;this.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loadedData:null})})),m(this.state.nextPage).then((function(e){t.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loadedData:e.results,nextPage:e.next,prevPage:e.previous})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"handlePrevPage",value:function(){var t=this;this.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loadedData:null})})),m(this.state.prevPage).then((function(e){t.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loadedData:e.results,nextPage:e.next,prevPage:e.previous})}))})).catch((function(){return console.log("something wrong with request")}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[!this.state.loadedData&&Object(x.jsx)(P,{}),Object(x.jsx)("h1",{children:this.state.title}),Object(x.jsx)(c.b,{to:"/main",className:"back-to-main starwars-font",children:"Back to the main list"}),Object(x.jsx)("table",{className:"info-table",children:Object(x.jsx)("tbody",{children:this.state.loadedData&&this.state.loadedData.map((function(t,e){return Object(x.jsx)(w,{item:t},e)}))})}),this.state.loadedData&&Object(x.jsx)("div",{className:"page-controls",children:this.state.count>10&&Object(x.jsx)(S,{link:this.state.link,numberOfItems:this.state.count,loadAnyPage:this.handleAnyPage,nextPage:this.state.nextPage,prevPage:this.state.prevPage})})]})}}]),n}(s.a.Component)),M=n(224),N=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={loadedData:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;m().then((function(e){t.setState({loadedData:e})}))}},{key:"render",value:function(){var t=[{title:"\u2116",dataIndex:"number",key:"number"},{title:"Title",dataIndex:"title",key:"title"},{title:"Link",dataIndex:"link",key:"link"},{title:"Action",key:"action",dataIndex:"action",render:function(t){return Object(x.jsx)(c.b,{to:"/infotables/"+t,children:"Open page"})}}],e=[];for(var n in this.state.loadedData)e.push({key:e.length,number:e.length+1,title:n,link:this.state.loadedData[n],action:n});return Object(x.jsxs)(x.Fragment,{children:[!this.state.loadedData&&Object(x.jsx)(P,{}),Object(x.jsx)("h1",{children:this.props.title}),Object(x.jsx)(M.a,{columns:t,dataSource:e,pagination:!1})]})}}]),n}(s.a.Component),C=(n(219),n.p+"static/media/r2d2.4002b4bf.svg"),A=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"not-found",children:[Object(x.jsx)("h1",{className:"not-found-header",children:"This is not the page you're looking for"}),Object(x.jsx)("img",{src:C,alt:"",className:"r2d2"})]})})}}]),n}(s.a.Component),F=(n(220),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("footer",{className:"footer",children:Object(x.jsxs)("p",{children:["One more interface for ",Object(x.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://swapi.dev/",children:"SWAPI"})]})})})}}]),n}(s.a.Component));var I=function(){return Object(x.jsxs)("div",{className:"main-wrp",children:[Object(x.jsx)("main",{className:"main",children:Object(x.jsx)(c.a,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:"/",exact:!0,children:Object(x.jsx)(o.a,{to:"/main"})}),Object(x.jsx)(o.b,{path:"/main",children:Object(x.jsx)(N,{title:"Main List"})}),Object(x.jsx)(o.b,{path:"/infotables/:theme",exact:!0,component:D}),Object(x.jsx)(o.b,{path:"/",component:A})]})})}),Object(x.jsx)(F,{})]})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,226)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),i(t),r(t)}))};n(221);r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root")),L()}},[[222,1,2]]]);
//# sourceMappingURL=main.c4cb434e.chunk.js.map